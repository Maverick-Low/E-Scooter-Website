<!DOCTYPE html>
<html>
<head>
<meta charset="utf-8"/>
<meta http-equiv="X-UA-Compatible" content="IE=edge"/>
<meta name="viewport" content="width=device-width, initial-scale=1.0">
<link rel="stylesheet" href="../../static/Dashboard.css">
<title>Website Dashboard</title>
</head>
<body>
<div id="Website_Dashboard">
	<svg class="Path_1092" viewBox="0 0 1400 799">
		<path id="Path_1092" d="M 0 0 L 1400 0 L 1400 799 L 0 799 L 0 0 Z">
		</path>
	</svg>
	<div id="Header">
		<div id="Group_1541">
			<div id="Header_-_Desktop" class="Header___Desktop">
				<svg class="base_" viewBox="0 0 1400 183.365">
					<linearGradient id="base_" spreadMethod="pad" x1="0.5" x2="0.5" y1="0" y2="1">
						<stop offset="0" stop-color="#24292f" stop-opacity="1"></stop>
						<stop offset="0.328" stop-color="#272c32" stop-opacity="0.953"></stop>
						<stop offset="1" stop-color="#6c7074" stop-opacity="0"></stop>
					</linearGradient>
					<path id="base_" d="M 0 0 L 1400 0 L 1400 183.3653717041016 L 0 183.3653717041016 L 0 0 Z">
					</path>
				</svg>
				<a id="DASHBOARD" href="/dashboard">DASHBOARD</a>
				<a id="HELP" href="/report">HELP</a>
				<a id="BOOK_RIDE" href="/trinity">BOOK RIDE</a>
				<a id="LOG_OUT" href="/logout">LOG OUT</a>
			</div>
			<div id="Group_6">
				<div class="btn_EScooter">
					<button class = "btn_EScooter" onclick="window.location.href='/'">EScooter</button>
				</div>
				<img id="scooter_white" src="/static/scooter_white.png" srcset="/static/scooter_white.png 1x, /static/scooter_white@2x.png 2x">
					
			</div>
		</div>
	</div>
	<div id="Group_1540">
		<div id="DASHBOARD_bf">
			<span>DASHBOARD</span>
		</div>
		<svg class="Line_7" viewBox="0 0 1110 2">
			<path id="Line_7" d="M 0 0 L 1110 0">
			</path>
		</svg>
	</div>
	<div id="Group_1538">
		<svg class="Rectangle_1488">
			<rect id="Rectangle_1488" rx="18" ry="18" x="0" y="0" width="1145" height="542">
			</rect>
		</svg>
	</div>
	<div id="Group_1542">
		<div id="Active_Orders">
			<span>Active Orders</span>
		</div>
		<div id="Order_Number_4">
		{% if not active %}
        	<p>You have no active orders</p>
    	{% endif %}

    	{% for elem in orders %}
       	 {% if elem.id  in active %}
            	{% if not elem.cancelled %}
                	<p>Order Number: {{elem.id}}</p>
                	<p>Hours: {{elem.numHours}}</p>
                	<p>Price: £{{elem.price}}</p>
                	<p>Date: {{elem.date.day}}-{{elem.date.month}}-{{elem.date.year}} {{elem.date.hour}}:{{elem.date.minute}}</p>
                	<p>Expiry Date: {{elem.expiry.day}}-{{elem.expiry.month}}-{{elem.expiry.year}} {{elem.expiry.hour}}:{{elem.expiry.minute}}</p>
					<button type="Cancel Order" class="btn-primary"  onclick="window.location.href='/cancel_booking/{{elem.id}}'">Cancel Booking</button>
                	<script>
                    function revealButtons(){
                        document.getElementById("toggle_show").hidden = true;
                        document.getElementById("toggle_hide").hidden = false;
                        elements = document.getElementsByClassName("btn-secondary");
                        for (let i = 0; i < elements.length; i++){
                            elements[i].hidden = false 
                        }
                    }
                    function hideButtons(){
                        document.getElementById("toggle_show").hidden = false;
                        document.getElementById("toggle_hide").hidden = true;
                        elements = document.getElementsByClassName("btn-secondary");
                        for (let i = 0; i < elements.length; i++){
                            elements[i].hidden = true 
                        }
                    }
                </script>
                <button type="Cancel Order" class="btn-primary" id="toggle_show" onclick="revealButtons()" style="left: 100px">Extend booking</button>
                <button type="Cancel Order" class="btn-secondary" id="toggle_hide" hidden onclick="hideButtons()" style="left: 100px" >Cancel</button>
                <button type="Cancel Order" id= "{{elem.id}}" class="btn btn-secondary" hidden onclick="window.location.href='/extend_booking/{{elem.id}}/1'" style="left: 150px">1 Hour</button>
                <button type="Cancel Order" id="test" class="btn-secondary" hidden onclick="window.location.href='/extend_booking/{{elem.id}}/2'" style="left: 200px">4 Hours</button>
                <button type="Cancel Order" id="test" class="btn-secondary" hidden onclick="window.location.href='/extend_booking/{{elem.id}}/3'" style="left: 250px">1 Day</button>
                <button type="Cancel Order" id="test" class="btn-secondary" hidden onclick="window.location.href='/extend_booking/{{elem.id}}/4'" style="left: 300px">1 Week</button>
				<br></br>
            	{% endif %}
        	{% endif %}
    	{% endfor %}
    	<br> </br>
		</div>
	</div>
	<div id="Group_1543">
		<div id="Order_History">
			<span>Order History</span>
		</div>
		<div id="Order_Number_3">
			{% for elem in orders|reverse %}
        		{% if elem.id not in active or elem.cancelled %}
				{% if loop.index <= 2 %}
            		<p>Order Number: {{elem.id}}</p>
            		<p>Hours: {{elem.numHours}} Hr</p>
            		<p>Price: £{{elem.price}}</p>
            		<p>Date: {{elem.date.day}}-{{elem.date.month}}-{{elem.date.year}} {{elem.date.hour}}:{{elem.date.minute}}</p>
            		<p>Expiry Date: {{elem.expiry.day}}-{{elem.expiry.month}}-{{elem.expiry.year}} {{elem.expiry.hour}}:{{elem.expiry.minute}}</p>
            		{% if elem.cancelled %}
            		<p style="font-weight: normal">Cancelled Order</p>
            		{% endif %}
            		<br> </br>
				{% endif %}
        		{% endif %}
    		{% endfor %} 
		</div>
	</div>
</div>
</body>
</html>